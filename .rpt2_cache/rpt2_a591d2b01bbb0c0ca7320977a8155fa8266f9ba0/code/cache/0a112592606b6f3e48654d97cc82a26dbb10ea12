{
  "code": "import AppConstants from \"../../AppConstants\";\r\nimport GameData from \"../../model/data/GameData\";\r\nimport { CustomEventConstants } from \"../../events/CustomEventConstants\";\r\nimport { CustomEventDispatcher } from \"../../events/CustomEventDispatcher\";\r\nimport SystemInstance from \"./SystemInstance\";\r\nvar Mediator = puremvc.Mediator;\r\nvar Browser = Laya.Browser;\r\nexport default class SystemMediator extends Mediator {\r\n    constructor(mediatorName, viewComponent) {\r\n        super(SystemMediator.NAME, new SystemInstance());\r\n    }\r\n    onRegister() {\r\n        CustomEventDispatcher.i.on(CustomEventConstants.RED_POINT_CHECK, this, () => {\r\n        });\r\n        this.getViewComponent().on(SystemInstance.UPDATE_RED_POINT, this, () => {\r\n        });\r\n    }\r\n    getViewComponent() {\r\n        return super.getViewComponent();\r\n    }\r\n    listNotificationInterests() {\r\n        return [\r\n            AppConstants.HEART_START,\r\n            AppConstants.NETWORK_STATUS_CHANGE,\r\n            AppConstants.REMOVE_MADIATOR\r\n        ];\r\n    }\r\n    handleNotification(notification) {\r\n        switch (notification.getName()) {\r\n            case AppConstants.HEART_START:\r\n                this.heartStart();\r\n                break;\r\n            case AppConstants.NETWORK_STATUS_CHANGE:\r\n                this.changeNetWork();\r\n                break;\r\n            case AppConstants.REMOVE_MADIATOR:\r\n                this.facade.removeMediator(notification.getBody());\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n    heartStart() {\r\n        const HEART_INTERVAL = 60 * 1000;\r\n        Laya.timer.loop(HEART_INTERVAL, this, () => {\r\n            GameData.i.user.offLineTimeStamp = Browser.now();\r\n        });\r\n    }\r\n    changeNetWork() {\r\n    }\r\n}\r\nSystemMediator.NAME = \"SystemMediator\";\r\n//# sourceMappingURL=SystemMediator.js.map",
  "references": [
    "/jsroads/blog/layademo-puremvc/src/AppConstants.ts",
    "/jsroads/blog/layademo-puremvc/src/model/data/GameData.ts",
    "/jsroads/blog/layademo-puremvc/src/events/CustomEventConstants.ts",
    "/jsroads/blog/layademo-puremvc/src/events/CustomEventDispatcher.ts",
    "/jsroads/blog/layademo-puremvc/src/view/system/SystemInstance.ts"
  ],
  "map": "{\"version\":3,\"file\":\"SystemMediator.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/view/system/SystemMediator.ts\"],\"names\":[],\"mappings\":\"AAIA,OAAO,YAAY,MAAM,oBAAoB,CAAC;AAC9C,OAAO,QAAQ,MAAM,2BAA2B,CAAC;AACjD,OAAO,EAAC,oBAAoB,EAAC,MAAM,mCAAmC,CAAC;AACvE,OAAO,EAAC,qBAAqB,EAAC,MAAM,oCAAoC,CAAC;AACzE,OAAO,cAAc,MAAM,kBAAkB,CAAC;AAC9C,IAAO,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;AACnC,IAAO,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AAE9B,MAAM,CAAC,OAAO,OAAO,cAAe,SAAQ,QAAQ;IAGhD,YAAY,YAAqB,EAAE,aAAmB;QAClD,KAAK,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,cAAc,EAAE,CAAC,CAAC;IACrD,CAAC;IAEM,UAAU;QACb,qBAAqB,CAAC,CAAC,CAAC,EAAE,CAAC,oBAAoB,CAAC,eAAe,EAAE,IAAI,EAAE,GAAG,EAAE;QAE5E,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAE,CAAC,cAAc,CAAC,gBAAgB,EAAE,IAAI,EAAE,GAAG,EAAE;QAEvE,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB;QACZ,OAAuB,KAAK,CAAC,gBAAgB,EAAE,CAAC;IACpD,CAAC;IAEM,yBAAyB;QAC5B,OAAO;YACH,YAAY,CAAC,WAAW;YACxB,YAAY,CAAC,qBAAqB;YAClC,YAAY,CAAC,eAAe;SAC/B,CAAC;IACN,CAAC;IAEM,kBAAkB,CAAC,YAAmC;QACzD,QAAQ,YAAY,CAAC,OAAO,EAAE,EAAE;YAC5B,KAAK,YAAY,CAAC,WAAW;gBACzB,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,MAAM;YACV,KAAK,YAAY,CAAC,qBAAqB;gBACnC,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,MAAM;YACV,KAAK,YAAY,CAAC,eAAe;gBAC7B,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;gBACnD,MAAM;YACV,QAAQ;SACX;IACL,CAAC;IAEO,UAAU;QACd,MAAM,cAAc,GAAW,EAAE,GAAG,IAAI,CAAC;QACzC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,GAAG,EAAE;YACvC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;QACrD,CAAC,CAAC,CAAA;IACN,CAAC;IAEO,aAAa;IAErB,CAAC;;AAnDa,mBAAI,GAAW,gBAAgB,CAAC\"}"
}
