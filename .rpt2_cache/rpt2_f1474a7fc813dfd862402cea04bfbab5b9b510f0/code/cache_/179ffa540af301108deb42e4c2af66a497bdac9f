{
  "code": "import MyLocalStorage from \"../data/MyLocalStorage\";\r\nimport { RedPointType, StorageType } from \"../data/GameConstans\";\r\nimport { CustomEventDispatcher } from \"../../events/CustomEventDispatcher\";\r\nimport { CustomEventConstants } from \"../../events/CustomEventConstants\";\r\nexport default class UserVO {\r\n    constructor() {\r\n        this._gold = 3000;\r\n        this._nickName = \"游客\";\r\n        this._userId = \"-10086\";\r\n        this._level = 0;\r\n        this._offLineTimeStamp = 0;\r\n        this._loginTimeStamp = 0;\r\n        this._loginDays = 0;\r\n    }\r\n    get gold() {\r\n        return this._gold;\r\n    }\r\n    set gold(value) {\r\n        this._gold = value;\r\n        this.write();\r\n        this.checkRedPoint([RedPointType.UPGRADE_USER_LEVEL]);\r\n    }\r\n    get nickName() {\r\n        return this._nickName;\r\n    }\r\n    set nickName(value) {\r\n        this._nickName = value;\r\n    }\r\n    get userId() {\r\n        return this._userId;\r\n    }\r\n    set userId(value) {\r\n        this._userId = value;\r\n    }\r\n    get level() {\r\n        return this._level;\r\n    }\r\n    set level(value) {\r\n        this._level = value;\r\n    }\r\n    get offLineTimeStamp() {\r\n        return this._offLineTimeStamp;\r\n    }\r\n    set offLineTimeStamp(value) {\r\n        this._offLineTimeStamp = value;\r\n        this.write();\r\n    }\r\n    get loginTimeStamp() {\r\n        return this._loginTimeStamp;\r\n    }\r\n    set loginTimeStamp(value) {\r\n        this._loginTimeStamp = value;\r\n    }\r\n    get loginDays() {\r\n        return this._loginDays;\r\n    }\r\n    set loginDays(value) {\r\n        this._loginDays = value;\r\n        this.write();\r\n    }\r\n    init() {\r\n    }\r\n    write() {\r\n        let ins = JSON.parse(JSON.stringify(this));\r\n        MyLocalStorage.i.write(StorageType.USER, ins, () => {\r\n        });\r\n    }\r\n    read() {\r\n        let ins = JSON.parse(JSON.stringify(this));\r\n        MyLocalStorage.i.read(StorageType.USER, (value) => {\r\n        }, ins);\r\n    }\r\n    checkRedPoint(list) {\r\n        CustomEventDispatcher.i.event(CustomEventConstants.RED_POINT_CHECK, { list: list });\r\n    }\r\n}\r\n",
  "references": [
    "/jsroads/blog/layademo-puremvc/src/model/data/MyLocalStorage.ts",
    "/jsroads/blog/layademo-puremvc/src/model/data/GameConstans.ts",
    "/jsroads/blog/layademo-puremvc/src/events/CustomEventDispatcher.ts",
    "/jsroads/blog/layademo-puremvc/src/events/CustomEventConstants.ts"
  ]
}
