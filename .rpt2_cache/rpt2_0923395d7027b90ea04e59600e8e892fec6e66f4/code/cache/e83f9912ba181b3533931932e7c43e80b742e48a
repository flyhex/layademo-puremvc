{
  "code": "import UserVO from \"../vo/UserVO\";\r\nimport { StorageType } from \"./GameConstans\";\r\nvar Browser = Laya.Browser;\r\nexport default class GameData {\r\n    constructor() {\r\n        this._user = new UserVO();\r\n        this._config = {};\r\n    }\r\n    get config() {\r\n        return this._config;\r\n    }\r\n    set config(value) {\r\n        this._config = value;\r\n    }\r\n    get serverList() {\r\n        if (!this._serverList) {\r\n            this._serverList = [\r\n                { type: StorageType.USER, data: this.user },\r\n                { type: StorageType.FRIENDS, data: this.user },\r\n                { type: StorageType.SYS, data: this.user },\r\n            ];\r\n        }\r\n        return this._serverList;\r\n    }\r\n    static get i() {\r\n        if (!this._i)\r\n            this._i = new GameData();\r\n        return this._i;\r\n    }\r\n    get user() {\r\n        return this._user;\r\n    }\r\n    set user(value) {\r\n        this._user = value;\r\n    }\r\n    init(callBack) {\r\n        GameLocalStorage.ins.getDataByKey(GameLocalStorage.USER, (usr) => {\r\n            if (usr) {\r\n                SMHelper.ins.assignObject(this.user, usr);\r\n            }\r\n            GameData.ins.user.init();\r\n            if (callBack)\r\n                callBack();\r\n            let isSameDay = true;\r\n            if (GameData.ins.user.loginDays) {\r\n                isSameDay = TimeTrans.ins.timeStampIsSameDay(GameData.ins.user.loginTimeStamp, Browser.now());\r\n                if (!isSameDay)\r\n                    this.updateNewDays();\r\n            }\r\n            else {\r\n                this.updateNewDays();\r\n            }\r\n            SystemDa;\r\n        });\r\n    }\r\n    dayDataUpdate() {\r\n    }\r\n    updateNewDays() {\r\n        GameData.ins.user.loginDays++;\r\n        GameData.ins.user.loginTimeStamp = TimeTrans.ins.getTodayMinTimeStamp();\r\n        GameData.ins.dayDataUpdate();\r\n    }\r\n}\r\n//# sourceMappingURL=GameData.js.map",
  "references": [
    "/jsroads/blog/layademo-puremvc/src/model/vo/UserVO.ts",
    "/jsroads/blog/layademo-puremvc/src/model/data/GameConstans.ts"
  ],
  "map": "{\"version\":3,\"file\":\"GameData.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/model/data/GameData.ts\"],\"names\":[],\"mappings\":\"AAIA,OAAO,MAAM,MAAM,cAAc,CAAC;AAClC,OAAO,EAAC,WAAW,EAAC,MAAM,gBAAgB,CAAC;AAC3C,IAAO,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AAE9B,MAAM,CAAC,OAAO,OAAO,QAAQ;IAoBzB;QAUQ,UAAK,GAAW,IAAI,MAAM,EAAE,CAAC;QAc7B,YAAO,GAAQ,EAAE,CAAC;IAvB1B,CAAC;IApBD,IAAI,MAAM;QACN,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAED,IAAI,MAAM,CAAC,KAAU;QACjB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,IAAI,UAAU;QACV,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,IAAI,CAAC,WAAW,GAAG;gBACf,EAAC,IAAI,EAAE,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC;gBACzC,EAAC,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC;gBAC5C,EAAC,IAAI,EAAE,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC;aAC3C,CAAA;SACJ;QACD,OAAO,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAOD,MAAM,KAAK,CAAC;QACR,IAAI,CAAC,IAAI,CAAC,EAAE;YAAE,IAAI,CAAC,EAAE,GAAG,IAAI,QAAQ,EAAE,CAAC;QACvC,OAAO,IAAI,CAAC,EAAE,CAAC;IACnB,CAAC;IAID,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,IAAI,IAAI,CAAC,KAAa;QAClB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAQD,IAAI,CAAC,QAAQ;QAET,gBAAgB,CAAC,GAAG,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,GAAG,EAAE,EAAE;YAC7D,IAAI,GAAG,EAAE;gBACL,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;aAC7C;YACD,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YACzB,IAAI,QAAQ;gBAAE,QAAQ,EAAE,CAAC;YACzB,IAAI,SAAS,GAAG,IAAI,CAAC;YACrB,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE;gBAC7B,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC;gBAC9F,IAAI,CAAC,SAAS;oBAAE,IAAI,CAAC,aAAa,EAAE,CAAC;aACxC;iBAAM;gBACH,IAAI,CAAC,aAAa,EAAE,CAAC;aACxB;YACD,QAAQ,CAAA;QACZ,CAAC,CAAC,CAAC;IACP,CAAC;IAEM,aAAa;IAEpB,CAAC;IAEO,aAAa;QACjB,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;QAC9B,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC,GAAG,CAAC,oBAAoB,EAAE,CAAC;QACxE,QAAQ,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;IACjC,CAAC;CACJ\"}"
}
